**Вложенные запросы**  

- Вложенные запросы могут использоваться внутри конструкций операторов SELECT, FROM, WHERE, а также HAVING.
- Вложенные запросы в конструкции FROM — самый неэффективный способ их применения
- Вложенные запросы необходимо заключать в круглые скобки.
- Вложенный запрос необходимо располагать справа от оператора сравнения.
- Оператор сравнения всегда используется для вложенных запросов, если они находятся в конструкции WHERE.
- Вложенные запросы не могут использовать оператор ORDER BY, но могут GROUP BY.
- Связанные вложенные запросы — внутренний запрос ссылается на столбец из внешнего выражения SQL (с помощью функций AVG, COUNT, MAX MIN, SUM и оператора =).
- Используйте многострочные операторы с многострочными вложенными запросами. (С помощью операторов IN, ANY, ALL, >, <).

**Когда использовать вложенный запрос**    
Практически любой вложенный запрос можно заменить оператором JOIN.
Преймущество оператора JOIN в том что у него выше скорость выполнени и эффективность.  
Преймущество вложенных запросов в том что их легче читать новичкам.
*Условия при которых лучше использовать вложенный запрос:*  
- Вложенный запрос возвращает агрегированное значение для оператора WHERE
- Вложенный запрос используется вместе с оператором ALL  

Пример:
```agsl
SELECT student_first_name, student_last_name, avg_score 
FROM exams e, students s
WHERE exam_points < (SELECT AVG(exam_points) from Exams);
```